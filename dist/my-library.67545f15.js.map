{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-67a65cb6299f9d06.js","src/js/my-library.js","src/js/api.js","src/templates/my-library-list.js","src/templates/all-library-list.js","src/templates/single.js","node_modules/@parcel/runtime-js/lib/runtime-137c79772422123a.js"],"sourcesContent":["function $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireabfc\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireabfc\"] = parcelRequire;\n}\nparcelRequire.register(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\n$parcel$export(module.exports, \"resolve\", () => $18c11f3350a906ea$export$f7ad0328861e2f03, (v) => $18c11f3350a906ea$export$f7ad0328861e2f03 = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = {};\nfunction $18c11f3350a906ea$var$register(pairs) {\n    var keys = Object.keys(pairs);\n    for(var i = 0; i < keys.length; i++)$18c11f3350a906ea$var$mapping[keys[i]] = pairs[keys[i]];\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping[id];\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return resolved;\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $c9cf60ee135b956f$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(JSON.parse('{\"1hAzv\":\"my-library.67545f15.js\",\"jaSBS\":\"no-image-found.9e3cfd72.png\"}'));\n\nclass $db1f432b457e32b4$export$2e2bcd8739ae039 {\n    constructor(){\n        this.baseUrl = \"https://www.googleapis.com/books/v1\";\n        this.apiKey = \"AIzaSyDji-FbnVwseMFcebB3YE0rY7T-A9Q92GQ\";\n        this.searchValue = \"\";\n        this.queryString = \"\";\n        this.url = \"\";\n        this.startIndex = 0;\n        this.itemsPerPage = 10;\n        this.totalPages = 1;\n        this.currentPage = 1;\n    }\n    getOnQuickSearch(keyWords) {\n        this.startIndex = 0;\n        this.currentPage = 1;\n        this.totalPages = 1;\n        this.searchValue = keyWords.replaceAll(\" \", \"+\");\n        this.url = `${this.baseUrl}/volumes?fields=totalItems,items&q=${this.searchValue}&startIndex=${this.startIndex}&maxResults=${this.itemsPerPage}&key=${this.apiKey}`;\n        return this.sendRequest(this.url);\n    }\n    getOnAdvancedSearch(paramsForm) {\n        this.startIndex = 0;\n        this.currentPage = 1;\n        this.totalPages = 1;\n        this.url = `${this.baseUrl}/volumes?fields=totalItems,items&q=${this.searchValue}${this.getParams(paramsForm)}&startIndex=${this.startIndex}&key=${this.apiKey}`;\n        return this.sendRequest(this.url);\n    }\n    getParams(paramsForm) {\n        this.queryString = \"\";\n        const paramsData = new FormData(paramsForm);\n        const paramsDataObj = Object.fromEntries(paramsData);\n        const paramsDataArr = Object.keys(paramsDataObj);\n        paramsDataArr.forEach((key)=>{\n            if (paramsDataObj[key] !== \"\") {\n                let value = paramsDataObj[key].split(\" \");\n                if (key === \"intitle\" || key === \"inauthor\" || key === \"inpublisher\" || key === \"subject\" || key === \"isbn\") {\n                    if (value.length == 1) this.queryString += `+${key}:${paramsDataObj[key]}`;\n                    else if (value.length > 1) value.forEach((el)=>this.queryString += `+${key}:${el}`);\n                } else this.queryString += `&${key}=${paramsDataObj[key]}`;\n            }\n        });\n        if (paramsDataObj.maxResults !== \"\") this.itemsPerPage = Number(paramsDataObj.maxResults);\n        return this.queryString;\n    }\n    getOnPaginationBtnClick(index) {\n        let url = this.url.replace(\"startIndex=0\", \"startIndex=\" + index * this.itemsPerPage);\n        // console.log('url: ', url);\n        return this.sendRequest(url);\n    }\n    checkResponse(response) {\n        if (!response.error) return response;\n        else {\n            const err = new Error(\"Code: \" + response.error.code + \"\\nError message: \" + response.error.message);\n            throw err;\n        }\n    }\n    sendRequest(url) {\n        return fetch(url).then((response)=>response.json()).then((responseObj)=>this.checkResponse(responseObj)).then((data)=>data);\n    }\n}\n\n\nfunction $dacb94fec86fae56$export$816968941b1c1eb3(arr, shelfName, imageURL) {\n    let template = `<div class=\"list-wrap\">\r\n                        <h2>${shelfName}</h2>`;\n    if (arr.length > 0) arr.forEach((el)=>{\n        let { id: id, img: img, title: title, author: author, date: date, description: description } = el;\n        template += `<div class=\"item row\" data-id=\"${id}\" data-shelf=\"${shelfName}\">\r\n                <img src=\"${img}\" alt=\"${title}\" class=\"d-block item-img col-3\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">\r\n                                <div class=\"info col-9\">\r\n                                    <p class=\"title\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">${title}</p>\r\n                                    <p class=\"author\">${author}</p>\r\n                                    <p class=\"date\">${date}</p>\r\n                                    <p class=\"describe\">${description.substr(0, 250)}</p>\r\n                                    <span class=\"material-symbols-outlined delete-btn\" data-action=\"delete\">delete</span>\r\n                                </div>\r\n                            </div>`;\n    });\n    else template += \"<h5>Немає книжок</h5>\";\n    template += `</div>`;\n    return template;\n}\n\n\n/**\r\n * \r\n * @param {Map<key, arr>} storage \r\n * @param {string} imageURL \r\n * @returns \r\n */ function $22feed667a89a661$export$9829ac740085b000(storage, imageURL) {\n    let template = \"\";\n    storage.forEach((arr, key)=>{\n        let shelfName = \"\";\n        if (key === \"QUEUE_KEY\") shelfName = \"Хочу прочитати\";\n        if (key === \"READING_KEY\") shelfName = \"Читаю\";\n        if (key === \"FINISHED_KEY\") shelfName = \"Прочитано\";\n        template += `<div class=\"list-wrap\">\r\n                        <h2>${shelfName}</h2>`;\n        if (arr.length > 0) arr.forEach((el)=>{\n            let { id: id, img: img, title: title, author: author, date: date, description: description } = el;\n            template += `<div class=\"item row\" data-id=\"${id}\" data-shelf=\"${shelfName}\" data-key=\"${key}\">\r\n                    <img src=\"${img}\" alt=\"${title}\" class=\"d-block item-img col-3\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">\r\n                                    <div class=\"info col-9\">\r\n                                        <p class=\"title\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">${title}</p>\r\n                                        <p class=\"author\">${author}</p>\r\n                                        <p class=\"date\">${date}</p>\r\n                                        <p class=\"describe\">${description.substr(0, 250)}</p>\r\n                                        <span class=\"material-symbols-outlined delete-btn\" data-action=\"delete\">delete</span>\r\n                                    </div>\r\n                                </div>`;\n        });\n        else template += \"<h5>Немає книжок</h5>\";\n        template += `</div><hr>`;\n    });\n    return template;\n}\n\n\nfunction $d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44(data, imageURL, queueArray = [], readingArray = [], finishedArray = []) {\n    let template = \"\";\n    const { id: id, accessInfo: accessInfo, saleInfo: saleInfo, volumeInfo: volumeInfo } = data;\n    // - check storage\n    const isInQueue = Boolean(queueArray.find((el)=>el.id === id));\n    const isInReading = Boolean(readingArray.find((el)=>el.id === id));\n    const isInFinished = Boolean(finishedArray.find((el)=>el.id === id));\n    // - check data: general info\n    const src = volumeInfo.imageLinks ? volumeInfo.imageLinks.thumbnail : imageURL;\n    let isbn = \"\";\n    volumeInfo.industryIdentifiers && volumeInfo.industryIdentifiers.forEach((el)=>{\n        isbn += el.type + \": \" + el.identifier + \"<br>\";\n    });\n    const title = volumeInfo.title ?? \"немає заголовку\";\n    const auth = volumeInfo.authors ? volumeInfo.authors.join(\", \") : \"невідомий автор\";\n    const date = volumeInfo.publishedDate ? volumeInfo.publishedDate.substr(0, 4) : \"невідома дата\";\n    const category = volumeInfo.categories ? volumeInfo.categories.join(\", \") : \"невідома категорія\";\n    const printType = volumeInfo.printType === \"BOOK\" ? \"Книга\" : \"Журнал\";\n    const descr = volumeInfo.description ? volumeInfo.description + \"...\" : \"немає опису\";\n    // - check data: for view/download\n    let viewStatus = \"\";\n    if (accessInfo.viewability === \"PARTIAL\") viewStatus = \"Перегляд фрагменту\";\n    if (accessInfo.viewability === \"ALL_PAGES\") viewStatus = \"Читати онлайн\";\n    let fileFormat = [];\n    accessInfo.epub.isAvailable && fileFormat.push(`epub`);\n    accessInfo.pdf.isAvailable && fileFormat.push(`pdf`);\n    if (accessInfo.accessViewStatus === \"NONE\") fileFormat.push(\"недоступна для перегляду\");\n    let readLink = \"\";\n    let readLinkHidden = \"\";\n    accessInfo.accessViewStatus === \"NONE\" ? readLinkHidden = \" hidden\" : readLink = accessInfo.webReaderLink;\n    // - check data:for sale\n    const isEBook = saleInfo.isEbook ? '<span class=\"material-symbols-outlined\">book_2</span><p>Електронна книга</p>' : '<span class=\"material-symbols-outlined\" style=\"color: lightgray\">disabled_by_default</span><p style=\"color: lightgray\">Електронна книга</p>';\n    let price = \"\";\n    switch(saleInfo.saleability){\n        case \"FOR_SALE\":\n            price = \"<b>Ціна:</b> \" + saleInfo.listPrice.amount + saleInfo.listPrice.currencyCode;\n            break;\n        case \"NOT_FOR_SALE\":\n            price = \"Немає у продажу\";\n            break;\n        case \"FREE\":\n            price = \"Безкоштовно\";\n            break;\n        default:\n            break;\n    }\n    const hidden = saleInfo.saleability === \"NOT_FOR_SALE\" || saleInfo.saleability === \"FREE\" ? \" hidden\" : \"\";\n    const freeActive = saleInfo.saleability === \"FREE\" ? \"\" : \" hidden\";\n    const buyLink = saleInfo.buyLink ?? \"\";\n    // template\n    template = `<div class=\"modal-header\">\r\n    <h1 class=\"modal-title fs-5\" id=\"AdvancedSearchModalLabel\">${title}</h1>\r\n    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n    <div class=\"single modal-body\">\r\n      <div class=\"container-fluid\">\r\n          <div class=\"row\">\r\n              <div class=\"col-sm-12 col-md-4 d-flex flex-column\">\r\n                  <div class=\"single-img\">\r\n                    <img src=\"${src}\" alt=\"${title}\" class=\"single-img\"/>\r\n                  </div>\r\n                  <div class=\"ebook\">${isEBook}</div>\r\n                  <div class=\"buy\">\r\n                    <p class=\"mt-3\">${price}</p>\r\n                    <a href=\"${buyLink}\" type=\"button\" class=\"mt-3 mb-3 btn btn-primary buy-btn${hidden}\" target=\"_blank\">Придбати</a>\r\n                    <a href=\"${accessInfo.pdf.downloadLink}\" class=\"material-symbols-outlined${freeActive}\">download</a>\r\n                  </div>\r\n              </div>\r\n              <div class=\"single col-sm-12 col-md-8\">\r\n                <table>\r\n                  <tr>\r\n                      <td>Автор/-и:</td>\r\n                      <td>${auth}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Видавництво:</td>\r\n                      <td>${volumeInfo.publisher} | ${date}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>ISBN:</td>\r\n                      <td>${isbn}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Кількість сторінок:</td>\r\n                      <td>${volumeInfo.pageCount}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Категорія:</td>\r\n                      <td>${category}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Тип друку:</td>\r\n                      <td>${printType}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Формат завантаження: </td>\r\n                      <td>${fileFormat.join(\"<br>\")}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Мова:</td>\r\n                      <td>${volumeInfo.language}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td colspan=\"2\"><strong>Опис: </strong>${descr}</td>\r\n                  </tr>\r\n              </table>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    <div class=\"modal-footer\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-8 ms-auto\">\r\n            <div class=\"footer-buttons\">\r\n                <a href=\"${readLink}\" type=\"button\" class=\"btn btn-primary params ${readLinkHidden}\" target=\"_blank\">${viewStatus}</a>\r\n                <div class=\"dropdown\">\r\n                <div>\r\n                    <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                    ${isInQueue || isInReading || isInFinished ? \"В бібліотеці\" : \"Додати в бібліотеку\"}\r\n                    </button>\r\n                    <ul class=\"dropdown-menu\">\r\n                        <li><button class=\"dropdown-item\" type=\"button\" data-action=\"add-to-queue\"${isInReading || isInFinished ? \" disabled\" : \"\"}>${isInQueue ? \"Видалити\" : \"Хочу прочитати\"}</button></li>\r\n                        <li><button class=\"dropdown-item\" type=\"button\" data-action=\"add-to-reading\"${isInQueue || isInFinished ? \" disabled\" : \"\"}>${isInReading ? \"Видалити\" : \"Читаю\"}</button></li>\r\n                        <li><button class=\"dropdown-item\" type=\"button\" data-action=\"add-to-finished\"${isInQueue || isInReading ? \" disabled\" : \"\"}>${isInFinished ? \"Видалити\" : \"Прочитано\"}</button></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>`;\n    return {\n        temlate: template,\n        info: {\n            id: id,\n            img: src,\n            title: title,\n            author: auth,\n            date: date,\n            description: descr\n        }\n    };\n}\n\n\nvar $62a99024eae5bb27$exports = {};\n\n$62a99024eae5bb27$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"jaSBS\"), import.meta.url).toString();\n\n\n// - refs\n// const form = document.querySelectorAll('form');\nconst $8f4200c3107a5cf9$var$result = document.querySelector(\".result-lib\");\nconst $8f4200c3107a5cf9$var$bookshelves = document.querySelectorAll(\".bookshelves\");\n// - localStorage\nlet $8f4200c3107a5cf9$var$queueArray = JSON.parse(localStorage.getItem(\"QUEUE_KEY\")) ?? [];\nlet $8f4200c3107a5cf9$var$readingArray = JSON.parse(localStorage.getItem(\"READING_KEY\")) ?? [];\nlet $8f4200c3107a5cf9$var$finishedArray = JSON.parse(localStorage.getItem(\"FINISHED_KEY\")) ?? [];\n// - init\nconst $8f4200c3107a5cf9$var$api = new (0, $db1f432b457e32b4$export$2e2bcd8739ae039)();\n$8f4200c3107a5cf9$var$showBookshelf(\"QUEUE_KEY\", \"Хочу прочитати\");\n$8f4200c3107a5cf9$var$result.addEventListener(\"click\", $8f4200c3107a5cf9$var$onItemClick);\n$8f4200c3107a5cf9$var$bookshelves.forEach((el)=>{\n    el.addEventListener(\"click\", (e)=>{\n        el.querySelectorAll(\"button\").forEach((el)=>el.classList.remove(\"current\"));\n        e.target.classList.add(\"current\");\n        let heading = e.target.textContent;\n        switch(e.target.dataset.shelf){\n            case \"queue\":\n                $8f4200c3107a5cf9$var$showBookshelf(\"QUEUE_KEY\", heading);\n                break;\n            case \"reading\":\n                $8f4200c3107a5cf9$var$showBookshelf(\"READING_KEY\", heading);\n                break;\n            case \"finished\":\n                $8f4200c3107a5cf9$var$showBookshelf(\"FINISHED_KEY\", heading);\n                break;\n            case \"all-lib\":\n                $8f4200c3107a5cf9$var$AllBookshelves();\n                break;\n            default:\n                break;\n        }\n    });\n});\n// - functions\nfunction $8f4200c3107a5cf9$var$onItemClick(e) {\n    e.preventDefault();\n    if (!e.target.classList.contains(\"title\") && !e.target.classList.contains(\"item-img\")) return;\n    $8f4200c3107a5cf9$var$api.sendRequest(`${$8f4200c3107a5cf9$var$api.baseUrl}/volumes/${e.target.closest(\".item\").dataset.id}`).then((data)=>{\n        $8f4200c3107a5cf9$var$renderInfo(data);\n    });\n}\nfunction $8f4200c3107a5cf9$var$renderInfo(data) {\n    // - render single modal\n    document.querySelector(\".single-modal\").innerHTML = (0, $d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44)(data, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports))), $8f4200c3107a5cf9$var$queueArray, $8f4200c3107a5cf9$var$readingArray, $8f4200c3107a5cf9$var$finishedArray).temlate;\n    // - get data for storage\n    let bookInfo = (0, $d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44)(data, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports)))).info;\n    // - add-to-library-Btns subscription & add to storage\n    const queueBtn = document.querySelector('[data-action=\"add-to-queue\"]');\n    const readingBtn = document.querySelector('[data-action=\"add-to-reading\"]');\n    const finishedBtn = document.querySelector('[data-action=\"add-to-finished\"]');\n    queueBtn.addEventListener(\"click\", (e)=>{\n        $8f4200c3107a5cf9$var$addToStorage(bookInfo, \"QUEUE_KEY\", $8f4200c3107a5cf9$var$queueArray);\n        $8f4200c3107a5cf9$var$showBookshelf(\"QUEUE_KEY\", \"Хочу прочитати\");\n        document.querySelector(\".single-modal\").innerHTML = (0, $d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44)(data, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports))), $8f4200c3107a5cf9$var$queueArray, $8f4200c3107a5cf9$var$readingArray, $8f4200c3107a5cf9$var$finishedArray).temlate;\n    });\n    readingBtn.addEventListener(\"click\", (e)=>{\n        $8f4200c3107a5cf9$var$addToStorage(bookInfo, \"READING_KEY\", $8f4200c3107a5cf9$var$readingArray);\n        $8f4200c3107a5cf9$var$showBookshelf(\"READING_KEY\", \"Читаю\");\n        document.querySelector(\".single-modal\").innerHTML = (0, $d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44)(data, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports))), $8f4200c3107a5cf9$var$queueArray, $8f4200c3107a5cf9$var$readingArray, $8f4200c3107a5cf9$var$finishedArray).temlate;\n    });\n    finishedBtn.addEventListener(\"click\", (e)=>{\n        $8f4200c3107a5cf9$var$addToStorage(bookInfo, \"FINISHED_KEY\", $8f4200c3107a5cf9$var$finishedArray);\n        $8f4200c3107a5cf9$var$showBookshelf(\"FINISHED_KEY\", \"Прочитав\");\n        document.querySelector(\".single-modal\").innerHTML = (0, $d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44)(data, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports))), $8f4200c3107a5cf9$var$queueArray, $8f4200c3107a5cf9$var$readingArray, $8f4200c3107a5cf9$var$finishedArray).temlate;\n    });\n}\nfunction $8f4200c3107a5cf9$var$addToStorage(info, key, arr) {\n    const index = arr.findIndex((el)=>el.id === info.id);\n    arr.some((el)=>el.id === info.id) ? arr.splice(index, 1) : arr.push(info);\n    localStorage.setItem(key, JSON.stringify(arr));\n    return {\n        info: info,\n        arr: arr\n    };\n}\nfunction $8f4200c3107a5cf9$var$showBookshelf(key, shelfName) {\n    const dataArr = JSON.parse(localStorage.getItem(key)) ?? [];\n    $8f4200c3107a5cf9$var$result.innerHTML = (0, $dacb94fec86fae56$export$816968941b1c1eb3)(dataArr, shelfName, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports))));\n    // - deleteBtn subscribe\n    document.querySelectorAll('[data-action=\"delete\"]').forEach((el)=>{\n        el.addEventListener(\"click\", (e)=>$8f4200c3107a5cf9$var$removeItem(e.target, key, dataArr, \"one\"));\n    });\n}\nfunction $8f4200c3107a5cf9$var$AllBookshelves() {\n    const allStorage = new Map();\n    allStorage.set(\"QUEUE_KEY\", JSON.parse(localStorage.getItem(\"QUEUE_KEY\")) ?? []).set(\"READING_KEY\", JSON.parse(localStorage.getItem(\"READING_KEY\")) ?? []).set(\"FINISHED_KEY\", JSON.parse(localStorage.getItem(\"FINISHED_KEY\")) ?? []);\n    $8f4200c3107a5cf9$var$result.innerHTML = (0, $22feed667a89a661$export$9829ac740085b000)(allStorage, (0, (/*@__PURE__*/$parcel$interopDefault($62a99024eae5bb27$exports))));\n    // - deleteBtn subscribe\n    document.querySelectorAll('[data-action=\"delete\"]').forEach((el)=>{\n        el.addEventListener(\"click\", (e)=>{\n            const key = e.target.closest(\".item\").dataset.key;\n            const arr = allStorage.get(key);\n            $8f4200c3107a5cf9$var$removeItem(e.target, key, arr, \"all\");\n        });\n    });\n}\nfunction $8f4200c3107a5cf9$var$removeItem(target, key, arr, flag) {\n    // - find & remove item\n    const itemId = target.closest(\".item\").dataset.id;\n    const index = arr.findIndex((el)=>el.id === itemId);\n    arr.splice(index, 1);\n    localStorage.setItem(key, JSON.stringify(arr));\n    // - rerender result\n    if (flag === \"one\") $8f4200c3107a5cf9$var$showBookshelf(key, target.closest(\".item\").dataset.shelf);\n    else if (flag === \"all\") $8f4200c3107a5cf9$var$AllBookshelves();\n}\n\n\n//# sourceMappingURL=my-library.67545f15.js.map\n","\"use strict\";\n\nvar mapping = {};\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping[id];\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return resolved;\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1hAzv\\\":\\\"my-library.67545f15.js\\\",\\\"jaSBS\\\":\\\"no-image-found.9e3cfd72.png\\\"}\"));","import ApiService from \"./api\";\r\n\r\nimport { myLibList } from '../templates/my-library-list';\r\nimport { AllLibList } from '../templates/all-library-list';\r\nimport { singleInfo } from \"../templates/single\";\r\n\r\nimport imageURL from '../img/no-image-found.png';\r\n\r\n// - refs\r\n\r\n// const form = document.querySelectorAll('form');\r\nconst result = document.querySelector('.result-lib');\r\nconst bookshelves = document.querySelectorAll('.bookshelves');\r\n\r\n// - localStorage\r\n\r\nlet queueArray = JSON.parse(localStorage.getItem('QUEUE_KEY')) ?? [];\r\nlet readingArray = JSON.parse(localStorage.getItem('READING_KEY')) ?? [];\r\nlet finishedArray = JSON.parse(localStorage.getItem('FINISHED_KEY')) ?? [];\r\n\r\n\r\n// - init\r\nconst api = new ApiService();\r\nshowBookshelf ('QUEUE_KEY', 'Хочу прочитати');\r\n\r\nresult.addEventListener('click', onItemClick);\r\n\r\nbookshelves.forEach(el => {\r\n    el.addEventListener('click', (e) => {\r\n        el.querySelectorAll('button').forEach(el => el.classList.remove('current'));\r\n\r\n        e.target.classList.add('current');\r\n\r\n        let heading = e.target.textContent;\r\n\r\n        switch (e.target.dataset.shelf) {\r\n            case 'queue':\r\n                showBookshelf ('QUEUE_KEY', heading);\r\n                break;\r\n            case 'reading':\r\n                showBookshelf ('READING_KEY', heading);\r\n                break;\r\n            case 'finished':\r\n                showBookshelf ('FINISHED_KEY', heading);\r\n                break;\r\n            case 'all-lib':\r\n                AllBookshelves();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    })\r\n})\r\n\r\n// - functions\r\n\r\nfunction onItemClick(e) {\r\n    e.preventDefault();\r\n    if (!e.target.classList.contains('title') && !e.target.classList.contains('item-img')) return;\r\n\r\n    api.sendRequest(`${api.baseUrl}/volumes/${e.target.closest('.item').dataset.id}`)\r\n    .then((data) => {\r\n        renderInfo(data);\r\n    })\r\n}\r\n\r\nfunction renderInfo(data){\r\n    // - render single modal\r\n    document.querySelector('.single-modal').innerHTML = singleInfo(data, imageURL, queueArray, readingArray, finishedArray).temlate;\r\n\r\n    // - get data for storage\r\n    let bookInfo = singleInfo(data, imageURL).info;\r\n\r\n    // - add-to-library-Btns subscription & add to storage\r\n    const queueBtn = document.querySelector('[data-action=\"add-to-queue\"]');\r\n    const readingBtn = document.querySelector('[data-action=\"add-to-reading\"]');\r\n    const finishedBtn = document.querySelector('[data-action=\"add-to-finished\"]');\r\n\r\n    queueBtn.addEventListener('click', (e) => {\r\n        addToStorage(bookInfo, 'QUEUE_KEY', queueArray);\r\n        showBookshelf ('QUEUE_KEY', 'Хочу прочитати');\r\n        document.querySelector('.single-modal').innerHTML = singleInfo(data, imageURL, queueArray, readingArray, finishedArray).temlate;\r\n    })\r\n    readingBtn.addEventListener('click', (e) => {\r\n        addToStorage(bookInfo, 'READING_KEY', readingArray);\r\n        showBookshelf ('READING_KEY', 'Читаю');\r\n        document.querySelector('.single-modal').innerHTML = singleInfo(data, imageURL, queueArray, readingArray, finishedArray).temlate;\r\n    })\r\n    finishedBtn.addEventListener('click', (e) => {\r\n        addToStorage(bookInfo, 'FINISHED_KEY', finishedArray);\r\n        showBookshelf ('FINISHED_KEY', 'Прочитав');\r\n        document.querySelector('.single-modal').innerHTML = singleInfo(data, imageURL, queueArray, readingArray, finishedArray).temlate;\r\n    })\r\n}\r\n\r\nfunction addToStorage(info, key, arr) {\r\n    const index = arr.findIndex((el) => el.id === info.id);\r\n    arr.some(el => el.id === info.id) ? arr.splice(index, 1) : arr.push(info);\r\n    localStorage.setItem(key, JSON.stringify(arr));\r\n\r\n    return {info, arr};\r\n}\r\n\r\nfunction showBookshelf (key, shelfName) {\r\n    const dataArr = JSON.parse(localStorage.getItem(key)) ?? [];\r\n    result.innerHTML = myLibList(dataArr, shelfName, imageURL);\r\n\r\n    // - deleteBtn subscribe\r\n    document.querySelectorAll('[data-action=\"delete\"]').forEach(el => {\r\n        el.addEventListener('click', (e) => removeItem(e.target, key, dataArr, 'one'))\r\n    });\r\n}\r\n\r\nfunction AllBookshelves () {\r\n    const allStorage = new Map();\r\n    allStorage.set (\"QUEUE_KEY\", JSON.parse(localStorage.getItem(\"QUEUE_KEY\")) ?? [])\r\n        .set (\"READING_KEY\", JSON.parse(localStorage.getItem(\"READING_KEY\")) ?? [])\r\n        .set (\"FINISHED_KEY\", JSON.parse(localStorage.getItem(\"FINISHED_KEY\")) ?? []);\r\n\r\n    result.innerHTML = AllLibList (allStorage, imageURL);\r\n\r\n        // - deleteBtn subscribe\r\n    document.querySelectorAll('[data-action=\"delete\"]').forEach(el => {\r\n        el.addEventListener('click', (e) => {\r\n            const key = e.target.closest('.item').dataset.key;\r\n            const arr = allStorage.get(key);\r\n            removeItem(e.target, key, arr, 'all')\r\n        })\r\n    })\r\n}\r\n\r\nfunction removeItem(target, key, arr, flag) {\r\n    // - find & remove item\r\n    const itemId = target.closest('.item').dataset.id;\r\n    const index = arr.findIndex(el => el.id === itemId);\r\n    arr.splice(index, 1);\r\n    localStorage.setItem(key, JSON.stringify(arr));\r\n\r\n    // - rerender result\r\n    if (flag === 'one') showBookshelf (key, target.closest('.item').dataset.shelf);\r\n    else if (flag === 'all') AllBookshelves ();\r\n}\r\n","export default class ApiService {\r\n    constructor () {\r\n        this.baseUrl = 'https://www.googleapis.com/books/v1';\r\n        this.apiKey = 'AIzaSyDji-FbnVwseMFcebB3YE0rY7T-A9Q92GQ';\r\n        this.searchValue = '';\r\n        this.queryString = '';\r\n        this.url = '';\r\n        this.startIndex = 0;\r\n        this.itemsPerPage = 10;\r\n        this.totalPages = 1;\r\n        this.currentPage = 1;\r\n    }\r\n\r\n    getOnQuickSearch(keyWords){\r\n        this.startIndex = 0;\r\n        this.currentPage = 1;\r\n        this.totalPages = 1;\r\n        this.searchValue = keyWords.replaceAll(' ', '+');\r\n        this.url = `${this.baseUrl}/volumes?fields=totalItems,items&q=${this.searchValue}&startIndex=${this.startIndex}&maxResults=${this.itemsPerPage}&key=${this.apiKey}`;\r\n        return this.sendRequest(this.url);\r\n    }\r\n\r\n    getOnAdvancedSearch(paramsForm){\r\n        this.startIndex = 0;\r\n        this.currentPage = 1;\r\n        this.totalPages = 1;\r\n        this.url = `${this.baseUrl}/volumes?fields=totalItems,items&q=${this.searchValue}${this.getParams(paramsForm)}&startIndex=${this.startIndex}&key=${this.apiKey}`;\r\n        \r\n        return this.sendRequest(this.url);\r\n    }\r\n\r\n    getParams(paramsForm){\r\n        this.queryString = '';\r\n        const paramsData = new FormData(paramsForm);\r\n        const paramsDataObj = Object.fromEntries(paramsData);\r\n        const paramsDataArr = Object.keys(paramsDataObj);\r\n        paramsDataArr.forEach(key => {\r\n            if (paramsDataObj[key] !== '') {\r\n                let value = paramsDataObj[key].split(' ');\r\n                if (key === 'intitle' || key === 'inauthor' || key === 'inpublisher' || key === 'subject' || key === 'isbn') {\r\n                    if (value.length == 1) {\r\n                        this.queryString += `+${key}:${paramsDataObj[key]}`;\r\n                    } else if (value.length > 1) {\r\n                        value.forEach(el => this.queryString += `+${key}:${el}`)\r\n                    }}\r\n                else {\r\n                    this.queryString += `&${key}=${paramsDataObj[key]}`\r\n                }\r\n            }\r\n        })\r\n        if (paramsDataObj.maxResults !== '') this.itemsPerPage = Number(paramsDataObj.maxResults);\r\n        \r\n        return this.queryString;\r\n}\r\n\r\ngetOnPaginationBtnClick(index){\r\n    let url = this.url.replace(\"startIndex=0\", \"startIndex=\" + index * this.itemsPerPage);\r\n    // console.log('url: ', url);\r\n    return this.sendRequest(url);\r\n}\r\n  \r\n    checkResponse(response) {\r\n        if (!response.error) {\r\n            return response;\r\n        }\r\n        else {\r\n            const err = new Error ('Code: ' + response.error.code +  '\\nError message: ' + response.error.message);\r\n            throw err;\r\n    }}\r\n    \r\n    sendRequest(url){\r\n        return fetch(url)\r\n        .then((response) => response.json())\r\n        .then((responseObj) => this.checkResponse(responseObj))\r\n        .then((data) => data);\r\n    }\r\n}\r\n\r\n","export function myLibList (arr, shelfName, imageURL) {\r\n    let template = `<div class=\"list-wrap\">\r\n                        <h2>${shelfName}</h2>`;\r\n\r\n    if (arr.length > 0) {\r\n        arr.forEach((el) => {\r\n            let {id, img, title, author, date, description} = el;\r\n    \r\n            template += `<div class=\"item row\" data-id=\"${id}\" data-shelf=\"${shelfName}\">\r\n                <img src=\"${img}\" alt=\"${title}\" class=\"d-block item-img col-3\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">\r\n                                <div class=\"info col-9\">\r\n                                    <p class=\"title\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">${title}</p>\r\n                                    <p class=\"author\">${author}</p>\r\n                                    <p class=\"date\">${date}</p>\r\n                                    <p class=\"describe\">${description.substr(0, 250)}</p>\r\n                                    <span class=\"material-symbols-outlined delete-btn\" data-action=\"delete\">delete</span>\r\n                                </div>\r\n                            </div>`;\r\n        });\r\n    \r\n    } else template += '<h5>Немає книжок</h5>'               \r\n    \r\n    template += `</div>`\r\n\r\n    return template;\r\n    \r\n}","/**\r\n * \r\n * @param {Map<key, arr>} storage \r\n * @param {string} imageURL \r\n * @returns \r\n */\r\nexport function AllLibList (storage, imageURL) {\r\n    let template = '';\r\n\r\n    storage.forEach((arr, key) => {\r\n        let shelfName = '';\r\n\r\n        if (key === \"QUEUE_KEY\") shelfName = 'Хочу прочитати';\r\n        if (key === \"READING_KEY\") shelfName = 'Читаю';\r\n        if (key === \"FINISHED_KEY\") shelfName = 'Прочитано';\r\n\r\n        template += `<div class=\"list-wrap\">\r\n                        <h2>${shelfName}</h2>`;\r\n\r\n        if (arr.length > 0) {\r\n            arr.forEach((el) => {\r\n                let {id, img, title, author, date, description} = el;\r\n\r\n                template += `<div class=\"item row\" data-id=\"${id}\" data-shelf=\"${shelfName}\" data-key=\"${key}\">\r\n                    <img src=\"${img}\" alt=\"${title}\" class=\"d-block item-img col-3\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">\r\n                                    <div class=\"info col-9\">\r\n                                        <p class=\"title\" data-bs-toggle=\"modal\" data-bs-target=\"#singleModal\">${title}</p>\r\n                                        <p class=\"author\">${author}</p>\r\n                                        <p class=\"date\">${date}</p>\r\n                                        <p class=\"describe\">${description.substr(0, 250)}</p>\r\n                                        <span class=\"material-symbols-outlined delete-btn\" data-action=\"delete\">delete</span>\r\n                                    </div>\r\n                                </div>`;\r\n            });\r\n\r\n        } else template += '<h5>Немає книжок</h5>'  ;             \r\n\r\n        template += `</div><hr>`;\r\n    })\r\n\r\n    return template;\r\n}","export function singleInfo(data, imageURL, queueArray = [], readingArray = [], finishedArray = []) {\r\n    let template = '';\r\n    const {id, accessInfo, saleInfo, volumeInfo} = data;\r\n\r\n    // - check storage\r\n    const isInQueue = Boolean(queueArray.find(el => el.id === id));\r\n    const isInReading = Boolean(readingArray.find(el => el.id === id));\r\n    const isInFinished = Boolean(finishedArray.find(el => el.id === id));\r\n\r\n    // - check data: general info\r\n    const src = volumeInfo.imageLinks ? volumeInfo.imageLinks.thumbnail : imageURL;\r\n    let isbn = '';\r\n    volumeInfo.industryIdentifiers ? volumeInfo.industryIdentifiers.forEach(el => {\r\n        isbn += el.type + ': ' + el.identifier + '<br>';\r\n    }) : 'немає ідентифікатору';\r\n    const title = volumeInfo.title ?? 'немає заголовку';\r\n    const auth = volumeInfo.authors ? volumeInfo.authors.join(', ') : 'невідомий автор';\r\n    const date = volumeInfo.publishedDate ? volumeInfo.publishedDate.substr(0, 4) : 'невідома дата';\r\n    const category = volumeInfo.categories ? volumeInfo.categories.join(', ') : 'невідома категорія';\r\n    const printType = volumeInfo.printType ==='BOOK' ? 'Книга' : 'Журнал';\r\n    const descr = volumeInfo.description ? volumeInfo.description + '...' : 'немає опису';\r\n\r\n    // - check data: for view/download\r\n    let viewStatus = '';\r\n    if (accessInfo.viewability === 'PARTIAL') viewStatus = 'Перегляд фрагменту';\r\n    if (accessInfo.viewability === 'ALL_PAGES') viewStatus = 'Читати онлайн';\r\n\r\n    let fileFormat = [];\r\n    accessInfo.epub.isAvailable ? fileFormat.push(`epub`) : '';\r\n    accessInfo.pdf.isAvailable ? fileFormat.push(`pdf`) : '';\r\n    if (accessInfo.accessViewStatus === \"NONE\") fileFormat.push('недоступна для перегляду');\r\n\r\n\r\n    let readLink = '';\r\n    let readLinkHidden = '';\r\n    accessInfo.accessViewStatus === \"NONE\" ? readLinkHidden = ' hidden' : readLink = accessInfo.webReaderLink;\r\n\r\n    // - check data:for sale\r\n    const isEBook = saleInfo.isEbook ? '<span class=\"material-symbols-outlined\">book_2</span><p>Електронна книга</p>' : '<span class=\"material-symbols-outlined\" style=\"color: lightgray\">disabled_by_default</span><p style=\"color: lightgray\">Електронна книга</p>';\r\n    \r\n    let price = '';\r\n    switch (saleInfo.saleability) {\r\n        case \"FOR_SALE\":\r\n             price = '<b>Ціна:</b> ' + saleInfo.listPrice.amount + saleInfo.listPrice.currencyCode;\r\n            break;\r\n        case \"NOT_FOR_SALE\":\r\n             price = 'Немає у продажу';\r\n            break;\r\n        case \"FREE\":\r\n             price = 'Безкоштовно';\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    const hidden = saleInfo.saleability === \"NOT_FOR_SALE\" || saleInfo.saleability === \"FREE\" ? ' hidden' : '';\r\n    const freeActive = saleInfo.saleability === \"FREE\" ? '' : ' hidden';\r\n    const buyLink = saleInfo.buyLink ?? '';\r\n\r\n\r\n\r\n    // template\r\n\r\n    template = `<div class=\"modal-header\">\r\n    <h1 class=\"modal-title fs-5\" id=\"AdvancedSearchModalLabel\">${title}</h1>\r\n    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n    <div class=\"single modal-body\">\r\n      <div class=\"container-fluid\">\r\n          <div class=\"row\">\r\n              <div class=\"col-sm-12 col-md-4 d-flex flex-column\">\r\n                  <div class=\"single-img\">\r\n                    <img src=\"${src}\" alt=\"${title}\" class=\"single-img\"/>\r\n                  </div>\r\n                  <div class=\"ebook\">${isEBook}</div>\r\n                  <div class=\"buy\">\r\n                    <p class=\"mt-3\">${price}</p>\r\n                    <a href=\"${buyLink}\" type=\"button\" class=\"mt-3 mb-3 btn btn-primary buy-btn${hidden}\" target=\"_blank\">Придбати</a>\r\n                    <a href=\"${accessInfo.pdf.downloadLink}\" class=\"material-symbols-outlined${freeActive}\">download</a>\r\n                  </div>\r\n              </div>\r\n              <div class=\"single col-sm-12 col-md-8\">\r\n                <table>\r\n                  <tr>\r\n                      <td>Автор/-и:</td>\r\n                      <td>${auth}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Видавництво:</td>\r\n                      <td>${volumeInfo.publisher} | ${date}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>ISBN:</td>\r\n                      <td>${isbn}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Кількість сторінок:</td>\r\n                      <td>${volumeInfo.pageCount}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Категорія:</td>\r\n                      <td>${category}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Тип друку:</td>\r\n                      <td>${printType}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Формат завантаження: </td>\r\n                      <td>${fileFormat.join('<br>')}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td>Мова:</td>\r\n                      <td>${volumeInfo.language}</td>\r\n                  </tr>\r\n                  <tr>\r\n                      <td colspan=\"2\"><strong>Опис: </strong>${descr}</td>\r\n                  </tr>\r\n              </table>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    <div class=\"modal-footer\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-8 ms-auto\">\r\n            <div class=\"footer-buttons\">\r\n                <a href=\"${readLink}\" type=\"button\" class=\"btn btn-primary params ${readLinkHidden}\" target=\"_blank\">${viewStatus}</a>\r\n                <div class=\"dropdown\">\r\n                <div>\r\n                    <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                    ${isInQueue || isInReading || isInFinished ? 'В бібліотеці' : 'Додати в бібліотеку'}\r\n                    </button>\r\n                    <ul class=\"dropdown-menu\">\r\n                        <li><button class=\"dropdown-item\" type=\"button\" data-action=\"add-to-queue\"${isInReading || isInFinished ? ' disabled' : ''}>${isInQueue ? 'Видалити' : 'Хочу прочитати'}</button></li>\r\n                        <li><button class=\"dropdown-item\" type=\"button\" data-action=\"add-to-reading\"${isInQueue || isInFinished ? ' disabled' : ''}>${isInReading ? 'Видалити' : 'Читаю'}</button></li>\r\n                        <li><button class=\"dropdown-item\" type=\"button\" data-action=\"add-to-finished\"${isInQueue || isInReading ? ' disabled' : ''}>${isInFinished ? 'Видалити' : 'Прочитано'}</button></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>`;\r\n\r\n  return {temlate: template, info: {id: id, img: src, title: title, author: auth, date: date, description: descr}};\r\n}\r\n\r\n\r\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jaSBS\")).toString();"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","$d962d5e7f759a0a6$export$e0c3e6a7e8d0ee44","data","imageURL","queueArray","readingArray","finishedArray","id","accessInfo","saleInfo","volumeInfo","isInQueue","Boolean","find","el","isInReading","isInFinished","src","imageLinks","thumbnail","isbn","industryIdentifiers","forEach","type","identifier","title","auth","authors","join","date","publishedDate","substr","category","categories","printType","descr","description","viewStatus","viewability","fileFormat","epub","isAvailable","push","pdf","accessViewStatus","readLink","readLinkHidden","webReaderLink","isEBook","isEbook","price","saleability","listPrice","amount","currencyCode","hidden","freeActive","buyLink","temlate","downloadLink","publisher","pageCount","language","info","img","author","exports","init","module","call","err","Error","code","register","$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","i","length","resolved","JSON","parse","$62a99024eae5bb27$exports","URL","resolve","url","toString","$8f4200c3107a5cf9$var$result","document","querySelector","$8f4200c3107a5cf9$var$bookshelves","querySelectorAll","$8f4200c3107a5cf9$var$queueArray","localStorage","getItem","$8f4200c3107a5cf9$var$readingArray","$8f4200c3107a5cf9$var$finishedArray","$8f4200c3107a5cf9$var$api","constructor","baseUrl","apiKey","searchValue","queryString","startIndex","itemsPerPage","totalPages","currentPage","getOnQuickSearch","keyWords","replaceAll","sendRequest","getOnAdvancedSearch","paramsForm","getParams","paramsData","FormData","paramsDataObj","fromEntries","paramsDataArr","key","value","split","maxResults","Number","getOnPaginationBtnClick","index","replace","checkResponse","response","error","message","fetch","then","json","responseObj","$8f4200c3107a5cf9$var$addToStorage","arr","findIndex","some","splice","setItem","stringify","$8f4200c3107a5cf9$var$showBookshelf","shelfName","template","dataArr","innerHTML","addEventListener","$8f4200c3107a5cf9$var$removeItem","target","$8f4200c3107a5cf9$var$AllBookshelves","allStorage","Map","storage","closest","dataset","flag","itemId","shelf","preventDefault","classList","contains","$8f4200c3107a5cf9$var$renderInfo","bookInfo","queueBtn","readingBtn","finishedBtn","remove","add","heading","textContent"],"version":3,"file":"my-library.67545f15.js.map"}